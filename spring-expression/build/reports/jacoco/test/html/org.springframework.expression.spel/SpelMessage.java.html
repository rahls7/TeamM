<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SpelMessage.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">spring-expression</a> &gt; <a href="index.source.html" class="el_package">org.springframework.expression.spel</a> &gt; <span class="el_source">SpelMessage.java</span></div><h1>SpelMessage.java</h1><pre class="source lang-java linenums">/*
 * Copyright 2002-2018 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.springframework.expression.spel;

import java.text.MessageFormat;

/**
 * Contains all the messages that can be produced by the Spring Expression Language.
 * Each message has a kind (info, warn, error) and a code number. Tests can be written to
 * expect particular code numbers rather than particular text, enabling the message text
 * to more easily be modified and the tests to run successfully in different locales.
 *
 * &lt;p&gt;When a message is formatted, it will have this kind of form, capturing the prefix
 * and the error kind:
 *
 * &lt;pre class=&quot;code&quot;&gt;EL1004E: Type cannot be found 'String'&lt;/pre&gt;
 *
 * @author Andy Clement
 * @author Juergen Hoeller
 * @since 3.0
 */
<span class="fc" id="L36">public enum SpelMessage {</span>

<span class="fc" id="L38">	TYPE_CONVERSION_ERROR(Kind.ERROR, 1001,</span>
			&quot;Type conversion problem, cannot convert from {0} to {1}&quot;),

<span class="fc" id="L41">	CONSTRUCTOR_NOT_FOUND(Kind.ERROR, 1002,</span>
			&quot;Constructor call: No suitable constructor found on type {0} for arguments {1}&quot;),

<span class="fc" id="L44">	CONSTRUCTOR_INVOCATION_PROBLEM(Kind.ERROR, 1003,</span>
			&quot;A problem occurred whilst attempting to construct an object of type ''{0}'' using arguments ''{1}''&quot;),

<span class="fc" id="L47">	METHOD_NOT_FOUND(Kind.ERROR, 1004,</span>
			&quot;Method call: Method {0} cannot be found on type {1}&quot;),

<span class="fc" id="L50">	TYPE_NOT_FOUND(Kind.ERROR, 1005,</span>
			&quot;Type cannot be found ''{0}''&quot;),

<span class="fc" id="L53">	FUNCTION_NOT_DEFINED(Kind.ERROR, 1006,</span>
			&quot;Function ''{0}'' could not be found&quot;),

<span class="fc" id="L56">	PROPERTY_OR_FIELD_NOT_READABLE_ON_NULL(Kind.ERROR, 1007,</span>
			&quot;Property or field ''{0}'' cannot be found on null&quot;),

<span class="fc" id="L59">	PROPERTY_OR_FIELD_NOT_READABLE(Kind.ERROR, 1008,</span>
			&quot;Property or field ''{0}'' cannot be found on object of type ''{1}'' - maybe not public or not valid?&quot;),

<span class="fc" id="L62">	PROPERTY_OR_FIELD_NOT_WRITABLE_ON_NULL(Kind.ERROR, 1009,</span>
			&quot;Property or field ''{0}'' cannot be set on null&quot;),

<span class="fc" id="L65">	PROPERTY_OR_FIELD_NOT_WRITABLE(Kind.ERROR, 1010,</span>
			&quot;Property or field ''{0}'' cannot be set on object of type ''{1}'' - maybe not public or not writable?&quot;),

<span class="fc" id="L68">	METHOD_CALL_ON_NULL_OBJECT_NOT_ALLOWED(Kind.ERROR, 1011,</span>
			&quot;Method call: Attempted to call method {0} on null context object&quot;),

<span class="fc" id="L71">	CANNOT_INDEX_INTO_NULL_VALUE(Kind.ERROR, 1012,</span>
			&quot;Cannot index into a null value&quot;),

<span class="fc" id="L74">	NOT_COMPARABLE(Kind.ERROR, 1013,</span>
			&quot;Cannot compare instances of {0} and {1}&quot;),

<span class="fc" id="L77">	INCORRECT_NUMBER_OF_ARGUMENTS_TO_FUNCTION(Kind.ERROR, 1014,</span>
			&quot;Incorrect number of arguments for function, {0} supplied but function takes {1}&quot;),

<span class="fc" id="L80">	INVALID_TYPE_FOR_SELECTION(Kind.ERROR, 1015,</span>
			&quot;Cannot perform selection on input data of type ''{0}''&quot;),

<span class="fc" id="L83">	RESULT_OF_SELECTION_CRITERIA_IS_NOT_BOOLEAN(Kind.ERROR, 1016,</span>
			&quot;Result of selection criteria is not boolean&quot;),

<span class="fc" id="L86">	BETWEEN_RIGHT_OPERAND_MUST_BE_TWO_ELEMENT_LIST(Kind.ERROR, 1017,</span>
			&quot;Right operand for the 'between' operator has to be a two-element list&quot;),

<span class="fc" id="L89">	INVALID_PATTERN(Kind.ERROR, 1018,</span>
			&quot;Pattern is not valid ''{0}''&quot;),

<span class="fc" id="L92">	PROJECTION_NOT_SUPPORTED_ON_TYPE(Kind.ERROR, 1019,</span>
			&quot;Projection is not supported on the type ''{0}''&quot;),

<span class="fc" id="L95">	ARGLIST_SHOULD_NOT_BE_EVALUATED(Kind.ERROR, 1020,</span>
			&quot;The argument list of a lambda expression should never have getValue() called upon it&quot;),

<span class="fc" id="L98">	EXCEPTION_DURING_PROPERTY_READ(Kind.ERROR, 1021,</span>
			&quot;A problem occurred whilst attempting to access the property ''{0}'': ''{1}''&quot;),

<span class="fc" id="L101">	FUNCTION_REFERENCE_CANNOT_BE_INVOKED(Kind.ERROR, 1022,</span>
			&quot;The function ''{0}'' mapped to an object of type ''{1}'' which cannot be invoked&quot;),

<span class="fc" id="L104">	EXCEPTION_DURING_FUNCTION_CALL(Kind.ERROR, 1023,</span>
			&quot;A problem occurred whilst attempting to invoke the function ''{0}'': ''{1}''&quot;),

<span class="fc" id="L107">	ARRAY_INDEX_OUT_OF_BOUNDS(Kind.ERROR, 1024,</span>
			&quot;The array has ''{0}'' elements, index ''{1}'' is invalid&quot;),

<span class="fc" id="L110">	COLLECTION_INDEX_OUT_OF_BOUNDS(Kind.ERROR, 1025,</span>
			&quot;The collection has ''{0}'' elements, index ''{1}'' is invalid&quot;),

<span class="fc" id="L113">	STRING_INDEX_OUT_OF_BOUNDS(Kind.ERROR, 1026,</span>
			&quot;The string has ''{0}'' characters, index ''{1}'' is invalid&quot;),

<span class="fc" id="L116">	INDEXING_NOT_SUPPORTED_FOR_TYPE(Kind.ERROR, 1027,</span>
			&quot;Indexing into type ''{0}'' is not supported&quot;),

<span class="fc" id="L119">	INSTANCEOF_OPERATOR_NEEDS_CLASS_OPERAND(Kind.ERROR, 1028,</span>
			&quot;The operator 'instanceof' needs the right operand to be a class, not a ''{0}''&quot;),

<span class="fc" id="L122">	EXCEPTION_DURING_METHOD_INVOCATION(Kind.ERROR, 1029,</span>
			&quot;A problem occurred when trying to execute method ''{0}'' on object of type ''{1}'': ''{2}''&quot;),

<span class="fc" id="L125">	OPERATOR_NOT_SUPPORTED_BETWEEN_TYPES(Kind.ERROR, 1030,</span>
			&quot;The operator ''{0}'' is not supported between objects of type ''{1}'' and ''{2}''&quot;),

<span class="fc" id="L128">	PROBLEM_LOCATING_METHOD(Kind.ERROR, 1031,</span>
			&quot;Problem locating method {0} on type {1}&quot;),

<span class="fc" id="L131">	SETVALUE_NOT_SUPPORTED(	Kind.ERROR, 1032,</span>
			&quot;setValue(ExpressionState, Object) not supported for ''{0}''&quot;),

<span class="fc" id="L134">	MULTIPLE_POSSIBLE_METHODS(Kind.ERROR, 1033,</span>
			&quot;Method call of ''{0}'' is ambiguous, supported type conversions allow multiple variants to match&quot;),

<span class="fc" id="L137">	EXCEPTION_DURING_PROPERTY_WRITE(Kind.ERROR, 1034,</span>
			&quot;A problem occurred whilst attempting to set the property ''{0}'': {1}&quot;),

<span class="fc" id="L140">	NOT_AN_INTEGER(Kind.ERROR, 1035,</span>
			&quot;The value ''{0}'' cannot be parsed as an int&quot;),

<span class="fc" id="L143">	NOT_A_LONG(Kind.ERROR, 1036,</span>
			&quot;The value ''{0}'' cannot be parsed as a long&quot;),

<span class="fc" id="L146">	INVALID_FIRST_OPERAND_FOR_MATCHES_OPERATOR(Kind.ERROR, 1037,</span>
			&quot;First operand to matches operator must be a string. ''{0}'' is not&quot;),

<span class="fc" id="L149">	INVALID_SECOND_OPERAND_FOR_MATCHES_OPERATOR(Kind.ERROR, 1038,</span>
			&quot;Second operand to matches operator must be a string. ''{0}'' is not&quot;),

<span class="fc" id="L152">	FUNCTION_MUST_BE_STATIC(Kind.ERROR, 1039,</span>
			&quot;Only static methods can be called via function references. &quot; +
			&quot;The method ''{0}'' referred to by name ''{1}'' is not static.&quot;),

<span class="fc" id="L156">	NOT_A_REAL(Kind.ERROR, 1040,</span>
			&quot;The value ''{0}'' cannot be parsed as a double&quot;),

<span class="fc" id="L159">	MORE_INPUT(Kind.ERROR, 1041,</span>
			&quot;After parsing a valid expression, there is still more data in the expression: ''{0}''&quot;),

<span class="fc" id="L162">	RIGHT_OPERAND_PROBLEM(Kind.ERROR, 1042,</span>
			&quot;Problem parsing right operand&quot;),

<span class="fc" id="L165">	NOT_EXPECTED_TOKEN(Kind.ERROR, 1043,</span>
			&quot;Unexpected token. Expected ''{0}'' but was ''{1}''&quot;),

<span class="fc" id="L168">	OOD(Kind.ERROR, 1044,</span>
			&quot;Unexpectedly ran out of input&quot;),

<span class="fc" id="L171">	NON_TERMINATING_DOUBLE_QUOTED_STRING(Kind.ERROR, 1045,</span>
			&quot;Cannot find terminating \&quot; for string&quot;),

<span class="fc" id="L174">	NON_TERMINATING_QUOTED_STRING(Kind.ERROR, 1046,</span>
			&quot;Cannot find terminating '' for string&quot;),

<span class="fc" id="L177">	MISSING_LEADING_ZERO_FOR_NUMBER(Kind.ERROR, 1047,</span>
			&quot;A real number must be prefixed by zero, it cannot start with just ''.''&quot;),

<span class="fc" id="L180">	REAL_CANNOT_BE_LONG(Kind.ERROR, 1048,</span>
			&quot;Real number cannot be suffixed with a long (L or l) suffix&quot;),

<span class="fc" id="L183">	UNEXPECTED_DATA_AFTER_DOT(Kind.ERROR, 1049,</span>
			&quot;Unexpected data after ''.'': ''{0}''&quot;),

<span class="fc" id="L186">	MISSING_CONSTRUCTOR_ARGS(Kind.ERROR, 1050,</span>
			&quot;The arguments '(...)' for the constructor call are missing&quot;),

<span class="fc" id="L189">	RUN_OUT_OF_ARGUMENTS(Kind.ERROR, 1051,</span>
			&quot;Unexpectedly ran out of arguments&quot;),

<span class="fc" id="L192">	UNABLE_TO_GROW_COLLECTION(Kind.ERROR, 1052,</span>
			&quot;Unable to grow collection&quot;),

<span class="fc" id="L195">	UNABLE_TO_GROW_COLLECTION_UNKNOWN_ELEMENT_TYPE(Kind.ERROR, 1053,</span>
			&quot;Unable to grow collection: unable to determine list element type&quot;),

<span class="fc" id="L198">	UNABLE_TO_CREATE_LIST_FOR_INDEXING(Kind.ERROR, 1054,</span>
			&quot;Unable to dynamically create a List to replace a null value&quot;),

<span class="fc" id="L201">	UNABLE_TO_CREATE_MAP_FOR_INDEXING(Kind.ERROR, 1055,</span>
			&quot;Unable to dynamically create a Map to replace a null value&quot;),

<span class="fc" id="L204">	UNABLE_TO_DYNAMICALLY_CREATE_OBJECT(Kind.ERROR, 1056,</span>
			&quot;Unable to dynamically create instance of ''{0}'' to replace a null value&quot;),

<span class="fc" id="L207">	NO_BEAN_RESOLVER_REGISTERED(Kind.ERROR, 1057,</span>
			&quot;No bean resolver registered in the context to resolve access to bean ''{0}''&quot;),

<span class="fc" id="L210">	EXCEPTION_DURING_BEAN_RESOLUTION(Kind.ERROR, 1058,</span>
			&quot;A problem occurred when trying to resolve bean ''{0}'':''{1}''&quot;),

<span class="fc" id="L213">	INVALID_BEAN_REFERENCE(Kind.ERROR, 1059,</span>
			&quot;@ or &amp; can only be followed by an identifier or a quoted name&quot;),

<span class="fc" id="L216">	TYPE_NAME_EXPECTED_FOR_ARRAY_CONSTRUCTION(Kind.ERROR, 1060,</span>
			&quot;Expected the type of the new array to be specified as a String but found ''{0}''&quot;),

<span class="fc" id="L219">	INCORRECT_ELEMENT_TYPE_FOR_ARRAY(Kind.ERROR, 1061,</span>
			&quot;The array of type ''{0}'' cannot have an element of type ''{1}'' inserted&quot;),

<span class="fc" id="L222">	MULTIDIM_ARRAY_INITIALIZER_NOT_SUPPORTED(Kind.ERROR, 1062,</span>
			&quot;Using an initializer to build a multi-dimensional array is not currently supported&quot;),

<span class="fc" id="L225">	MISSING_ARRAY_DIMENSION(Kind.ERROR, 1063,</span>
			&quot;A required array dimension has not been specified&quot;),

<span class="fc" id="L228">	INITIALIZER_LENGTH_INCORRECT(Kind.ERROR, 1064,</span>
			&quot;Array initializer size does not match array dimensions&quot;),

<span class="fc" id="L231">	UNEXPECTED_ESCAPE_CHAR(Kind.ERROR, 1065,</span>
			&quot;Unexpected escape character&quot;),

<span class="fc" id="L234">	OPERAND_NOT_INCREMENTABLE(Kind.ERROR, 1066,</span>
			&quot;The expression component ''{0}'' does not support increment&quot;),

<span class="fc" id="L237">	OPERAND_NOT_DECREMENTABLE(Kind.ERROR, 1067,</span>
			&quot;The expression component ''{0}'' does not support decrement&quot;),

<span class="fc" id="L240">	NOT_ASSIGNABLE(Kind.ERROR, 1068,</span>
			&quot;The expression component ''{0}'' is not assignable&quot;),

<span class="fc" id="L243">	MISSING_CHARACTER(Kind.ERROR, 1069,</span>
			&quot;Missing expected character ''{0}''&quot;),

<span class="fc" id="L246">	LEFT_OPERAND_PROBLEM(Kind.ERROR, 1070,</span>
			&quot;Problem parsing left operand&quot;),

<span class="fc" id="L249">	MISSING_SELECTION_EXPRESSION(Kind.ERROR, 1071,</span>
			&quot;A required selection expression has not been specified&quot;),

	/** @since 4.1 */
<span class="fc" id="L253">	EXCEPTION_RUNNING_COMPILED_EXPRESSION(Kind.ERROR, 1072,</span>
			&quot;An exception occurred whilst evaluating a compiled expression&quot;),

	/** @since 4.3.17 */
<span class="fc" id="L257">	FLAWED_PATTERN(Kind.ERROR, 1073,</span>
			&quot;Failed to efficiently evaluate pattern ''{0}'': consider redesigning it&quot;);


	private final Kind kind;

	private final int code;

	private final String message;


<span class="fc" id="L268">	SpelMessage(Kind kind, int code, String message) {</span>
<span class="fc" id="L269">		this.kind = kind;</span>
<span class="fc" id="L270">		this.code = code;</span>
<span class="fc" id="L271">		this.message = message;</span>
<span class="fc" id="L272">	}</span>


	/**
	 * Produce a complete message including the prefix and with the inserts
	 * applied to the message.
	 * @param inserts the inserts to put into the formatted message
	 * @return a formatted message
	 * @since 4.3.5
	 */
	public String formatMessage(Object... inserts) {
<span class="fc" id="L283">		StringBuilder formattedMessage = new StringBuilder();</span>
<span class="fc" id="L284">		formattedMessage.append(&quot;EL&quot;).append(this.code);</span>
<span class="pc bpc" id="L285" title="1 of 2 branches missed.">		switch (this.kind) {</span>
			case ERROR:
<span class="fc" id="L287">				formattedMessage.append(&quot;E&quot;);</span>
				break;
		}
<span class="fc" id="L290">		formattedMessage.append(&quot;: &quot;);</span>
<span class="fc" id="L291">		formattedMessage.append(MessageFormat.format(this.message, inserts));</span>
<span class="fc" id="L292">		return formattedMessage.toString();</span>
	}


	/**
	 * Message kinds.
	 */
<span class="fc" id="L299">	public enum Kind { INFO, WARNING, ERROR }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>